<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Melbourne Pedestrian Behaviour</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">

    <script src="https://unpkg.com/deck.gl@^9.0.0/dist.min.js"></script>
    <script src="https://unpkg.com/maplibre-gl@^4.0.0/dist/maplibre-gl.js"></script>
    <link href="https://unpkg.com/maplibre-gl@^4.0.0/dist/maplibre-gl.css" rel="stylesheet" />

    <script>
        MathJax = {
            loader: {load: ['[tex]/color']},
            tex: {
                macros: {
                    RR: '{\\bf R}',
                    bold: ['{\\boldsymbol #1}', 1],
                    b: '{\\boldsymbol b}',
                    u: '{\\boldsymbol u}',
                    x: '{\\boldsymbol x}',
                    z: '{\\boldsymbol z}',
                    norm: ['{\\mathcal{N}(#1, #2)}', 2],
                    bbeta: '{\\boldsymbol {\\beta}}',
                    primary: '{\\color{#0d6efd}#1}'
                },
                inlineMath: { '[+]': [['$', '$']] },
                displayMath: [['\\[', '\\]']],
                packages: {'[+]': ['color']}
            },
            chtml: {
                displayOverflow: 'linebreak',  // break long lines
                linebreaks: {                  // options for when overflow is linebreak
                    inline: true,                   // true for browser-based breaking of in-line equations
                    width: '100%',                  // a fixed size or a percentage of the container width
                    lineleading: .2,                // the default lineleading in em units
                }
            }
        };
    </script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@4/tex-mml-chtml.js"></script>

    <!-- Hide while css loads -->
    <style>
        body {
            display: none;
        }
    </style>

    <script type="module" src="./js/main.js"></script>
</head>

<body>
    <div class="container mt-5 mb-20vh d-flex flex-column g-3 overflow-hidden">
        <div class="row gy-2">
            <div class="col-12 col-lg-9">
                <h1 class="display-3">Melbourne Pedestrian Behaviour</h1>
            </div>
            <div class="col-12 col-lg-3 d-flex flex-nowrap align-items-center justify-content-center justify-content-lg-end gap-2">
                <a href="https://ottoesperson.com" class="btn btn-outline-primary" title="Home">
                    <i class="bi bi-house-fill"></i>
                </a>
                <a href="https://github.com/ottoesp" class="btn btn-outline-primary text-nowrap" title="Follow on GitHub">
                    <i class="bi bi-github"></i> <span class="d-none d-sm-inline">@ottoesp</span>
                </a>
                <a href="https://github.com/ottoesp/melbournepedestrianinvestigation" class="btn btn-outline-primary text-nowrap" title="Star on GitHub">
                    <i class="bi bi-star-fill"></i>
                </a>
            </div>
        </div>

        <div class="row mt-3 mb-4">
            <div class="col-12">
                <p class="h3">What is this website about?</p>
                <p>
                    This website explores how pedestrian activity across Melbourne has changed since before the COVID-19 pandemic, using data from The City of Melbourne Pedestrian Counting System. This system forms a network of sensors across the inner city, recording hourly pedestrian volumes at each location. By comparing pre-pandemic data from 2019 with more recent observations in 2025 this project aims to quantify how pedestrian movement has changed over these years. 
                </p>
                <p>
                    To analyse these changes, we used statistical models which account for both the widespread effects across the city, and location specific deviations from these trends. This approach recognises that different locations will have been impacted in different ways. In particular, we expect the increase in working from home to have disproportionately reduced the pedestrian traffic in areas with a concentration of offices.
                </p>
                <p>
                    Because this analysis is based on observational data, many confounding factors are present and we cannot establish causality. However, it still offers valuable insight into how our city has changed across this pivotal time in recent history.
                </p>
                <p>
                    This page is a hobby project, and part of my ongoing learning in statistics. I have aimed to present an honest and balanced interpretation of my findings. If you notice any issues, please feel free to submit an issue on GitHub :)
                </p>
                <p class="text-secondary">
                    Data on pedestrian counts is obtained from <a
                        href="https://melbournetestbed.opendatasoft.com/pages/home/">The City of Melbourne</a> OpenData
                    Pedestrian Counting System.
                </p>
            </div>
        </div>

        <div class="row mb-5 g-3 justify-content-center">
            <h1 class="col-12 display-5 mb-3">General Analysis of Pedestrian Traffic</h1>

            <div class="col-12 col-sm-8">
                <div class="card h-100 pt-3">
                    <div class="card-body">
                        <h3 class="card-title">Melbourne is less busy than in 2019</h3>
                        <p class="card-text">
                            Across the network, pedestrian counts have decreased significantly with Fridays in 2025 experiencing a 34.9% reduction from their 2019 levels (Figure 1.4) indicating a general reduction in activity across the city.                         <p class="card-text text-secondary">
                        </p>
                        <blockquote class="blockquote">
                            These Changes Were Not Felt Evenly Across the City
                        </blockquote>
                        <p class="card-text">
                            Figure 1.2 maps the change in pedestrian activity from 2019 to 2025. While most locations experienced declines, the magnitude of these changes varied significantly. We can see some of the largest decreases were felt south of Londsdale St with activity at Burke St Mall decreasing by 66.9%. However, the northern CBD around Melbourne Central and RMIT were relatively less impacted with some locations seeing increases in activity. 
                        </p>

                        <p class="card-text">
                            This may be partially attributed to working at home which caused locations with many offices to experience less pedestrian traffic. We further investigate this effect as we discuss how different days of the week have been affected.
                        </p>
                        <p class="card-text">
                            It is important to note that sensors do not provide even coverage of the entire CBD (notably between Queen and King Street) and so we cannot draw conclusions for areas without sensor coverage.
                        </p>
                    </div>
                </div>
            </div>

            <div class="col-12 col-sm-6 col-lg-4">
                <div class="card pt-3">
                    <div id="counts-map-carousel" class="carousel slide carousel-fade carousel-dark card-img-top"
                        data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="counts_map_plot_2019.svg" class="d-block w-100"
                                    alt="Map of sensor average counts in 2019">
                            </div>
                            <div class="carousel-item">
                                <img src="counts_map_plot_2025.svg" class="d-block w-100"
                                    alt="Map of sensor average counts in 2025">
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#counts-map-carousel"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#counts-map-carousel"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                    <div class="card-body">
                    </div>
                    <div class="card-footer text-center">
                        <p class="card-text text-secondary">Figure 1.1</p>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-3">
                <div class="card h-100 pt-3">
                    <img src="/percent_change_plot.svg" class="card-img-bot"
                        alt="Plot of pedestrian traffic in melbourne"></img>
                    <div class="card-body"> </div>
                    <div class="card-footer text-center">
                        <p class="card-text text-secondary">Figure 1.2</p>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-9">
                <div class="card h-100 pt-3">
                    <img src="/sensorpercentagebar.svg" class="card-img-bot"
                        alt="Plot of pedestrian traffic in melbourne"></img>
                    <div class="card-body"> </div>
                    <div class="card-footer text-center">
                        <p class="card-text text-secondary">Figure 1.3</p>
                    </div>
                </div>
            </div>
            <div class="col-12 col-lg-4">
                <div class="card h-100 pt-3">
                    <div class="card-body">
                        <blockquote class="blockquote">
                            Weekdays Were the Most Impacted
                        </blockquote>
                        <p class="card-text">
                            Changes in pedestrian activity between 2019 and 2025 vary substantially across the week. Weekdays experienced the largest decline with Mondays showing the steepest reduction with 2025 activity showing a 37.7% decrease. Midweek days were relatively more resilient, with Wednesday and Thursday declining by 31.6% and 32.5% respectively (Figure 1.4). This pattern may reflect workers opting to work from home on days at the start or end of the week. 
                        </p>
                        <p class="card-text">
                            In contrast, weekend activity decreased to a lesser extent (Figure 1.5), with Saturday counts decreasing by only 19.0% from 2019 to 2025 (Figure 1.4). This further supports the hypothesis that working from home is a major driver for the overall drop in pedestrian traffic.
                        </p>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-5">
                <div class="card h-100 pt-3">
                    <img src="/days_ci.svg" class="card-img-top"
                        alt="Map showing diffence in pedestrian traffic on weekdays vs weekends">
                    <div class="card-body"></div>
                    <div class="card-footer text-center">
                        <p class="card-text text-secondary">Figure 1.4 - Approximate confidence intervals derived with delta method</p>
                    </div>
                </div>
            </div>
            <div class="col-8 col-sm-6 col-lg-3">
                <div class="card pt-3">
                    <img src="/change_by_day_type.svg" class="card-img-top"
                        alt="Plot of change in pedestrian traffic on weekdays, weekends and average">
                    <div class="card-body"></div>
                    <div class="card-footer text-center">
                        <p class="card-text text-secondary">Figure 1.5</p>
                    </div>
                </div>
            </div>
            <div class="col-12 col-sm-6 col-lg-4">
                <div id="daytype_difference_map" class="card h-100 pt-3">
                    <img src="/daytype_difference_map.svg" class="card-img-top"
                        alt="Map showing diffence in pedestrian traffic on weekdays vs weekends">
                    <div class="card-body"></div>
                    <div class="card-footer text-center">
                        <p class="card-text text-secondary">Figure 1.6</p>
                    </div>
                </div>
            </div>
            
            <div class="col-12 col-lg-8">
                <div class="card h-100 pt-3">
                    <img src="/day_effects.svg" class="card-img-top"
                        alt="Plot of pedestrian traffic in melbourne by day of the week">
                    <div class="card-body"></div>
                    <div class="card-footer text-center">
                        <p class="card-text text-secondary">Figure 1.7</p>
                    </div>
                </div>
            </div>

            
        </div>

        <div class="row mb-5 g-3">
            <h1 class="col-12 display-5 mb-3">Location Specific Pedestrian Traffic</h1>

            <div class="col-12">
                <div class="card">
                    <div class="card-body">
                        <h3 class="card-title">Change in Pedestrian Traffic from 2019 to 2025</h3>
                        <p class="card-text">This interactive map illustrates the locations of pedestrian sensors across
                            Melbourne. At each location, the height of each column corresponds to the change in daily
                            pedestrians counted from 2019 to 2025.</p>
                        <blockquote class="blockquote">
                            <p>Drag the map to rotate</p>
                        </blockquote>
                    </div>
                    <div id="deck-container" class="overflow-hidden card-img-bot" oncontextmenu="return false;">
                        <div id="map-interaction-hint"
                            class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center justify-content-center d-none bg-dark bg-opacity-75 overflow-hidden z-1">
                            <p class="text-light">Double tap to enable/disable map rotation</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-12">
                <div id="sensor_plot_container" class="row g-3">
                    <div class="col-12">
                        <div class="card h-100 text-center text-secondary">
                            <div class="card-body d-flex flex-column justify-content-center align-items-center"
                                style="min-height: 300px;">
                                <p class="h5">Select a sensor on the map to view details</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row mb-5 g-3">
            <h1 class="col-12 display-5 mb-3">Methodology</h1>
            <h3 class="col-12 mt-3">Introduction</h3>
            <div class="col-12">
                <div class="row g-3 justify-content-center">
                    <div class="col-12 col-lg-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">Linear Mixed Models</h5>
                                <p class="card-text">
                                    Linear mixed models (LMMs) extend simple linear models by allowing for both fixed and random effects. This is important when observations are dependent. In our case, multiple readings from the same sensor are inherently correlated which violates the independence assumption of ordinary linear models.
                                </p>
                                <p class="card-text">
                                    By including random effects, LMMs allow for sensor-to-sensor deviation while still being able to analyse the population level trends. 
                                </p>
                                <p class="card-text">
                                    Formally, we model this as
                                </p>
                                <p>
                                    \[\boldsymbol y = X \bbeta + Z\b + \boldsymbol \varepsilon\]
                                </p>
                                <p class="card-text">
                                    where
                                    <ul>
                                        <li>
                                            $\bbeta$ is a vector of fixed effects,
                                        </li>
                                        <li>
                                            $X$ and $Z$ are the design matrices of the fixed and random effects respectively,
                                        </li>
                                        <li>
                                            $\b$ is a vector of random effects with multivariate normal distribution with covariance matrix $G$, $\b \sim \norm{\boldsymbol 0}{G}$,
                                        </li>
                                        <li>
                                            $\boldsymbol \varepsilon$ is a vector of residual errors assumed to be multivariate normally distributed $\norm{\boldsymbol 0} {\sigma^2 I}$ capturing variation that is not explained by the model.
                                        </li>
                                    </ul>
                                </p>
                                <p class="card-text">
                                    This formulation properly accounts for the heterogeneity of pedestrian activity across many locations.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-lg-6">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">Lognormally Distributed Data</h5>
                                <p class="card-text">
                                    The lognormal distribution is often a natural model for non-negative data that arises from multiplicative processes. 
                                </p>
                                <p class="card-text">
                                    In our dataset, a histogram of mean daily counts at each sensor (Figure 3.1, Plot 1) reveals a heavily positive skewed and non-normal distribution. This violates the assumption of our mixed linear model that  $\b \sim \norm{\boldsymbol 0}{G}$, encouraging a transformation.
                                </p>
                                <p class="card-text">
                                    Applying a log transformation to these daily counts (Figure 3.1, Plot 2) substantially improves, symmetry producing a plot that is closer to normal. This is formally described as
                                </p>
                                <p class="card-text">
                                    \[\log\boldsymbol y = X\bbeta\ + Z\b + \boldsymbol \varepsilon. \]
                                </p>
                                <p class="card-text">
                                    Despite this improvement, there is a significant heavy left tail, highlighted in the Q-Q plot (Figure 3.2), indicating that the log-transformed data is not perfectly normal. This suggests that although the log transformation has improved our model, some caution must be taken when applying methods that rely on the normality assumption.
                                </p>
                                <p class="card-text">
                                    One possible improvement to this study would be to apply a general mixed linear model with a better fitting distribution such as a negative binomial. 
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-8 col-sm-7 col-lg-6">
                        <div class="card h-100">
                            <img src="/log_transform_hist.svg" class="card-img mt-2">
                            <div class="card-body"></div>
                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.1</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-8 col-sm-5 col-lg-4">
                        <div class="card h-100">
                            <img src="/QQlogtransform.png" class="card-img mt-2">
                            <div class="card-body"></div>
                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.2</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <h3 class="col-12 mt-5">Model Selection</h3>
            <div class="col-12">
                <div class="row g-3 justify-content-center">
                    <div class="col-12 col-md-8 col-lg-9">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">First Model - Common day structure, sensor‑specific year response</h5>
                                <p class="card-text">
                                    This model assumes all sensors share a common weekly pattern, while each sensor has its own response to year. Key points:
                                </p>
                                <ul>
                                    <li>Day‑of‑week differences remain consistent between 2019 and 2025 (parralel lines within groups).</li>
                                    <li>Sensors can be differently affected by the change from 2019 to 2025 (each group has a unique slope).</li>
                                </ul>
                                <p class="card-text">We can model this as:</p>
                                <p class="card-text">\[\log(y_{i,t}) = \beta_0 + \beta_1 \text{Year}_t + \sum_{D \in \text{days}\setminus \text{Friday}} {(\beta_d\, \mathbb{1}_{t \in D})} + b_{0,i} + b_{1,i}\,\text{Year}_t + \varepsilon_{i,t}\]</p>
                                <p class="card-text">
                                    Here \(y_{i,t}\) is the daily count at sensor \(i\) on day \(t\), and \(\text{Year}_t\) is an indicator for the year 2025 (\(0\) for 2019, \(1\) for 2025).
                                </p>

                                <p class="card-text">Fixed effects</p>
                                <ul>
                                    <li>\(\beta_0\): Mean log daily count on Friday in 2019.</li>
                                    <li>\(\beta_1\): Population‑average log difference between 2019 and 2025.</li>
                                    <li>\(\beta_d\): Effect of day \(d\) relative to Friday.</li>
                                </ul>

                                <p class="card-text">Random effects</p>
                                <ul>
                                    <li>\(b_{0,i}\): Sensor‑specific deviation from \(\beta_0\).</li>
                                    <li>\(b_{1,i}\): Sensor‑specific deviation in the year effect \(\beta_1\).</li>
                                    <li>\(\varepsilon_{i,t}\): Random error, \(\varepsilon_{i,t} \sim N(0, \sigma^2)\).</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-md-4 col-lg-3">
                        <div id="model1plot" class="card pt-3">
                            <img src="/exploration_model1.svg" class="card-img">
                            <div class="card-body">
                            </div>
                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.3 - illustration of first model structure</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="row g-3 justify-content-center">
                    <div class="col-6 col-md-4 col-lg-3 order-2 order-sm-1">
                        <div class="card pt-3">
                            <img src="/exploration_model2.svg" class="card-img">
                                    <div class="card-body"></div>
                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.4 - illustration of second model structure</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-8 col-lg-9 order-1 order-sm-2">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">Second Model - Day Specific Year Effects</h5>
                                <p class="card-text">
                                    In this model we relax the assumption that the weekly structure is constant across 2019 and 2025. 
                                    We introduce a fixed interaction effect (highlighted below in blue) which models how different days 
                                    have been affected over time.
                                </p>
                                <p class="card-text">
                                    This is motivated by real-world understanding: the COVID-19 pandemic introduced working-from-home 
                                    measures that have remained in place, suggesting weekdays might be more affected from 2019 to 2025.
                                </p>
                                <p class="card-text">
                                    Importantly, in this model, the interaction effect is still constant across sensors (size of deviation in slope for each day is shared across groups), meaning all areas of Melbourne are 
                                    modeled as equally affected. This assumption is relaxed in model 3 to allow for location-specific variability.
                                </p>
                                <p class="card-text">
                                    \[\log(y_{i,t}) = \beta_0 + \beta_1 \text{Year}_t + \sum_{D \in \text{days} \setminus \text{Friday}} {(\beta_d \mathbb 1_{t \in D})} + {\color{#0d6efd}\sum_{D \in \text{days} \setminus \text{Friday}} {(\beta_{d \times Year} (\text{Year} \cdot \mathbb 1_{t \in D}))}} + b_{0,i} + b_{1,i} \text{Year}_t + \varepsilon_{i,t}\]
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="row g-3 justify-content-center">
                    <div class="col-12 col-md-8 col-lg-9">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">Final Model - Sensor‑specific Weekend Effects</h5>
                                <p class="card-text">
                                    This final model further relaxes the structure of the random effects, allowing pedestrian count patterns to vary by location
                                    while retaining a common day-of-week structure across the population.
                                </p>
                                <p class="card-text">
                                    To improve model stability and avoid overfitting, we introduce a binary random effect distinguishing weekends from weekdays via the indicator $\text{Weekend}_t$.
                                    Rather than allowing fully day-specific random effects, this specification captures location-specific deviations in weekend behaviour while maintaining reliable convergence.
                                </p>
                                <p class="card-text">
                                    In particular, this model allows us to investigate how changes in behaviour from 2019 and 2025
                                    (such as increased working from home) uniquely affect weekend and weekday pedestrian activity across locations.
                                </p>
                                <p class="card-text">
                                    \[\log(y_{i,t}) = \beta_0 + \beta_1 \text{Year}_t + \sum_{D \in \text{days}\setminus \text{Friday}} (\beta_d\, \mathbb{1}_{t \in D})
                                    + \sum_{D \in \text{days}\setminus \text{Friday}} (\beta_{d \times \text{Year}} (\text{Year}_t \cdot \mathbb{1}_{t \in D})) \\
                                    + b_{0,i} + b_{1,i}\,\text{Year}_t + {\color{#0d6efd}b_{2,i}\,\text{Weekend}_t} + {\color{#0d6efd}b_{3,i}(\text{Year}_t \cdot \text{Weekend}_t)} + \varepsilon_{i,t}\]
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-md-4 col-lg-3">
                        <div class="card pt-3">
                            <img src="/exploration_model3.svg" class="card-img">
                                    <div class="card-body"></div>
                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.5 - illustration of final model structure</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-12">
                <div class="row g-3">
                    <div class="col">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">Evaluating Models</h3>
                                <p class="card-text">
                                    After fitting each of these models with maximum likelihood, I evaluated their fit by comparing their 
                                    <a href="https://en.wikipedia.org/wiki/Akaike_information_criterion">Akaike information criterion</a> (AIC). 
                                </p>
                                <p class="card-text text-secondary">
                                    AIC of models (lower is better)
                                </p>
                                <table class="table table-striped table-hover">
                                    <thead>
                                        <tr>
                                            <th scope="col">Model</th>
                                            <th scope="col">AIC</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td>Model 1: Common day structure, sensor-specific year</td>
                                            <td>55187.80</td>
                                        </tr>
                                        <tr>
                                            <td>Model 2: Day-specific year effects</td>
                                            <td>55024.57</td>
                                        </tr>
                                        <tr>
                                            <td>Model 3: Sensor-specific weekend effects</td>
                                            <td>47201.61</td>
                                        </tr>
                                        <tr>
                                            <td>Alternative: Day-specific random effects</td>
                                            <td>47638.51</td>
                                        </tr>
                                    </tbody>
                                </table>
                                <p class="card-text">
                                    As can be seen by the significant improvement from model 2 to 3, heterogeneity in how locations responded to Covid on Weekdays vs Weekends is pertinent to our data.
                                </p>
                                <p class="card-text">
                                    After performing this validation, the model was refit using <a href="Restricted_maximum_likelihood">restricted maximum likelihood</a> (REML) for a less biased fit.<br>The results of this are shown in Figure 3.6.
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-lg-8">
                        <div class="card h-100">
                            <div class="card-body overflow-auto" style="max-height: 600px;">
                                <pre>
Mixed Linear Model Regression Results
====================================================================================================
Model:                           MixedLM               Dependent Variable:               daily_count
No. Observations:                34178                 Method:                           ML         
No. Groups:                      49                    Scale:                            0.2264     
Min. group size:                 442                   Log-Likelihood:                   -23575.8062
Max. group size:                 730                   Converged:                        Yes        
Mean group size:                 697.5                                                              
----------------------------------------------------------------------------------------------------
                                                         Coef.  Std.Err.    z    P>|z| [0.025 0.975]
----------------------------------------------------------------------------------------------------
Intercept                                                 9.289    0.123  75.369 0.000  9.047  9.530
day[T.Monday]                                            -0.175    0.014 -12.652 0.000 -0.202 -0.148
day[T.Saturday]                                          -0.309    0.082  -3.758 0.000 -0.470 -0.148
day[T.Sunday]                                            -0.482    0.082  -5.861 0.000 -0.643 -0.321
day[T.Thursday]                                          -0.042    0.014  -3.063 0.002 -0.070 -0.015
day[T.Tuesday]                                           -0.091    0.014  -6.626 0.000 -0.118 -0.064
day[T.Wednesday]                                         -0.055    0.014  -3.973 0.000 -0.082 -0.028
year[T.2025]                                             -0.360    0.066  -5.413 0.000 -0.490 -0.230
day[T.Monday]:year[T.2025]                               -0.045    0.019  -2.330 0.020 -0.083 -0.007
day[T.Saturday]:year[T.2025]                              0.173    0.029   6.039 0.000  0.117  0.229
day[T.Sunday]:year[T.2025]                                0.132    0.029   4.598 0.000  0.076  0.188
day[T.Thursday]:year[T.2025]                              0.036    0.019   1.865 0.062 -0.002  0.074
day[T.Tuesday]:year[T.2025]                              -0.004    0.019  -0.229 0.819 -0.042  0.033
day[T.Wednesday]:year[T.2025]                             0.048    0.019   2.502 0.012  0.010  0.086
Group Var                                                 0.739    0.314                            
Group x is_weekend[T.True] Cov                           -0.016    0.147                            
is_weekend[T.True] Var                                    0.322    0.138                            
Group x year[T.2025] Cov                                 -0.172    0.129                            
is_weekend[T.True] x year[T.2025] Cov                     0.065    0.081                            
year[T.2025] Var                                          0.207    0.089                            
Group x is_weekend[T.True]:year[T.2025] Cov               0.025    0.044                            
is_weekend[T.True] x is_weekend[T.True]:year[T.2025] Cov -0.039    0.031                            
year[T.2025] x is_weekend[T.True]:year[T.2025] Cov       -0.018    0.024                            
is_weekend[T.True]:year[T.2025] Var                       0.022    0.012                            
====================================================================================================
                                </pre>
                            </div>
                            <div class="m-auto"></div>
                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">
                                    Figure 3.6<br>
                                    Note that values here are on a log scale
                                </p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="col-12">
                <div class="row g-3">
                    <h3 class="col-12 mt-5">Model Diagnostics</h3>
                    <div class="col-12 col-lg-8">
                        <div class="card h-100">
                            <div class="card-body">
                                <h5 class="card-title">First Model - Common day structure, Sensor Specific Year Response</h5>
                                <p class="card-text">
                                    This model faces some non-trivial deviations from our assumptions, which we investigate using diagnostic plots. 
                                </p>
                                <blockquote class="blockquote">
                                    Heavy Left-Tail
                                </blockquote>
                                <p class="card-text">
                                    The Q-Q plot of residuals (Figure 3.7) indicates a heavy left-tailed in our data. The sharp dip on the left side of the plot indicates that the model overestimates the pedestrian activity of the lowest readings. This behaviour is also visible in the plot of residuals against fitted values (Figure 3.8) where we see more negative than positive residuals. Together these diagnostics indicate that the model struggles to represent periods of low pedestrian activity. 
                                </p>
                                <blockquote class="blockquote">
                                    Heteroskedasticity
                                </blockquote>
                                <p class="card-text">
                                    Figure 3.8 additionally reveals a fanning effect at the higher end of fitted values, indicating heteroskedasticity. This pattern likely arises from the log transformation where the variance in pedestrian counts does not increase at the same rate as the mean.
                                </p>
                                <blockquote class="blockquote">
                                    Random Effects
                                </blockquote>
                                <p class="card-text">
                                    In contrast the Q-Q plots of random effects (Figure 3.9) show substantially better agreement with the normal assumption.  Despite some deviation, the random effects appear to be roughly normal. This indicates that model error predominantly arises from observation level structure rather than specification of random effects.
                                </p>
                                <p class="card-text">
                                    Overall, the diagnostic plots reveal some departure from the LMM assumptions, particularly at low pedestrian counts. These limitations reflect challenges with modelling log-transformed count data and could be further addressed by a general linear mixed model.
                                </p>
                                <p class="card-text">
                                    Despite these issues, the model is sufficient for the purposes of this investigation to adequately capture the dominant patterns in the data at both a location specific and Melbourne wide level. 
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-6 col-lg-4">
                        <div class="card pt-3">
                            <img src="/QQresidual.png" class="card-img">
                            <div class="card-body"></div>
                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.7</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="card h-100 pt-3">
                            <img src="/residualvsfitted.png" class="card-img">
                            <div class="card-body"></div>

                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.8</p>
                            </div>
                        </div>
                    </div>
                    <div class="col-12 col-md-12 col-lg-6">
                        <div class="card h-100 pt-3">
                            <img src="/QQrandomeffects.svg" class="card-img">
                            <div class="card-body"></div>

                            <div class="card-footer text-center">
                                <p class="card-text text-secondary">Figure 3.9</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

    </div>

    <footer class="bg-body-tertiary py-4 mt-5">
        <div class="container">
            <div class="row">
                <div class="col-md-5 mb-3 mb-md-0">
                    <h5>Melbourne Pedestrian Behaviour</h5>
                    <p class="text-secondary">
                        A statistical analysis of pedestrian traffic changes in Melbourne.
                    </p>
                </div>
                <div class="col-md-4 mb-3 mb-md-0">
                    <h6>Data Source</h6>
                    <p class="text-secondary small">
                        Pedestrian counting data provided by <a href="https://melbournetestbed.opendatasoft.com/pages/home/" class="text-primary">The City of Melbourne</a>
                    </p>
                </div>
                <div class="col-3 d-flex flex-nowrap align-items-center justify-content-center justify-content-lg-end gap-2">
                    <a href="https://ottoesperson.com" class="btn btn-outline-primary" title="Home">
                        <i class="bi bi-house-fill"></i>
                    </a>
                    <a href="https://github.com/ottoesp" class="btn btn-outline-primary text-nowrap" title="Follow on GitHub">
                        <i class="bi bi-github"></i> <span class="d-none d-sm-inline">@ottoesp</span>
                    </a>
                    <a href="https://github.com/ottoesp/melbournepedestrianinvestigation" class="btn btn-outline-primary text-nowrap" title="Star on GitHub">
                        <i class="bi bi-star-fill"></i>
                    </a>
                </div>
            </div>
            <hr class="my-4">
            <div class="row">
                <div class="col text-center text-secondary small">
                    <p class="mb-0">Copyright (c) 2026 Otto Esperson</p>
                </div>
            </div>
        </div>
    </footer>

    <script async defer src="https://buttons.github.io/buttons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI"
        crossorigin="anonymous"></script>
</body>

</html>