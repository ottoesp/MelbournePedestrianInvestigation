<!DOCTYPE html>
<html>
  <head><link href="https://api.mapbox.com/mapbox-gl-js/v2.14.1/mapbox-gl.css" rel="stylesheet">
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <title>pydeck</title>
        <script src="https://api.tiles.mapbox.com/mapbox-gl-js/v1.13.0/mapbox-gl.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" />
    <script src='https://cdn.jsdelivr.net/npm/@deck.gl/jupyter-widget@~9.0.*/dist/index.js'></script>
    <style>
    body {
  margin: 0;
  padding: 0;
  overflow: hidden;
}

#deck-container {
  width: 100vw;
  height: 100vh;
}

#deck-container canvas {
  z-index: 1;
  background: none;
}
    </style>
  </head>
  <body oncontextmenu="return false;">
    <div id="deck-container">
    </div>
  </body>
  <script>
    const container = document.getElementById('deck-container');
    const jsonInput = {
  "initialViewState": {
    "bearing": -60,
    "latitude": -37.813,
    "longitude": 144.96,
    "pitch": 55,
    "zoom": 14.3
  },
  "layers": [
    {
      "@@type": "TileLayer",
      "data": [
        "https://tile.openstreetmap.org/{z}/{x}/{y}.png"
      ],
      "id": "osm-tiles",
      "maxZoom": 19,
      "minZoom": 0,
      "pickable": false,
      "tileSize": 256
    },
    {
      "@@type": "ColumnLayer",
      "data": [
        {
          "absolute_change": 43.839,
          "colour": [
            204,
            108,
            138
          ],
          "latitude": -37.81349441,
          "longitude": 144.96515323,
          "percentage_change": -43.839,
          "sensor_description": "Bourke Street Mall (North)"
        },
        {
          "absolute_change": 45.737,
          "colour": [
            209,
            118,
            149
          ],
          "latitude": -37.81380668,
          "longitude": 144.96516718,
          "percentage_change": -45.737,
          "sensor_description": "Bourke Street Mall (South)"
        },
        {
          "absolute_change": 23.498,
          "colour": [
            109,
            55,
            55
          ],
          "latitude": -37.81101524,
          "longitude": 144.96429485,
          "percentage_change": -23.498,
          "sensor_description": "Melbourne Central"
        },
        {
          "absolute_change": 27.821,
          "colour": [
            132,
            63,
            65
          ],
          "latitude": -37.81487988,
          "longitude": 144.9660878,
          "percentage_change": -27.821,
          "sensor_description": "Town Hall (West)"
        },
        {
          "absolute_change": 28.801,
          "colour": [
            137,
            65,
            68
          ],
          "latitude": -37.81874249,
          "longitude": 144.96787656,
          "percentage_change": -28.801,
          "sensor_description": "Princes Bridge"
        },
        {
          "absolute_change": 44.834,
          "colour": [
            206,
            113,
            144
          ],
          "latitude": -37.81911705,
          "longitude": 144.96558255,
          "percentage_change": -44.834,
          "sensor_description": "Flinders Street Station Underpass"
        },
        {
          "absolute_change": 24.06,
          "colour": [
            112,
            56,
            56
          ],
          "latitude": -37.82293543,
          "longitude": 144.9471751,
          "percentage_change": -24.06,
          "sensor_description": "Webb Bridge"
        },
        {
          "absolute_change": 60.094,
          "colour": [
            243,
            190,
            227
          ],
          "latitude": -37.81982992,
          "longitude": 144.95102555,
          "percentage_change": -60.094,
          "sensor_description": "Southern Cross Station"
        },
        {
          "absolute_change": 63.224,
          "colour": [
            250,
            206,
            241
          ],
          "latitude": -37.81876474,
          "longitude": 144.94710545,
          "percentage_change": -63.224,
          "sensor_description": "Victoria Point"
        },
        {
          "absolute_change": 71.536,
          "colour": [
            54,
            124,
            61
          ],
          "latitude": -37.81564989,
          "longitude": 144.93970694,
          "percentage_change": 71.536,
          "sensor_description": "Waterfront City"
        },
        {
          "absolute_change": 15.021,
          "colour": [
            66,
            37,
            35
          ],
          "latitude": -37.81457988,
          "longitude": 144.94292398,
          "percentage_change": -15.021,
          "sensor_description": "New Quay"
        },
        {
          "absolute_change": 37.237,
          "colour": [
            183,
            81,
            99
          ],
          "latitude": -37.82011242,
          "longitude": 144.96291897,
          "percentage_change": -37.237,
          "sensor_description": "Sandridge Bridge"
        },
        {
          "absolute_change": 40.791,
          "colour": [
            196,
            95,
            121
          ],
          "latitude": -37.81362543,
          "longitude": 144.97323591,
          "percentage_change": -40.791,
          "sensor_description": "Collins Place (South)"
        },
        {
          "absolute_change": 53.476,
          "colour": [
            227,
            155,
            192
          ],
          "latitude": -37.81344862,
          "longitude": 144.97305353,
          "percentage_change": -53.476,
          "sensor_description": "Collins Place (North)"
        },
        {
          "absolute_change": 34.625,
          "colour": [
            171,
            75,
            86
          ],
          "latitude": -37.81237202,
          "longitude": 144.96550671,
          "percentage_change": -34.625,
          "sensor_description": "Chinatown-Swanston St (North)"
        },
        {
          "absolute_change": 39.98,
          "colour": [
            193,
            92,
            116
          ],
          "latitude": -37.81172914,
          "longitude": 144.9682466,
          "percentage_change": -39.98,
          "sensor_description": "Chinatown-Lt Bourke St (South)"
        },
        {
          "absolute_change": 35.717,
          "colour": [
            176,
            77,
            90
          ],
          "latitude": -37.81267313,
          "longitude": 144.96788288,
          "percentage_change": -35.717,
          "sensor_description": "155-161 Russell Street"
        },
        {
          "absolute_change": 41.674,
          "colour": [
            198,
            98,
            125
          ],
          "latitude": -37.81909256,
          "longitude": 144.95452748,
          "percentage_change": -41.674,
          "sensor_description": "Spencer St-Collins St (South)"
        },
        {
          "absolute_change": 50.812,
          "colour": [
            221,
            142,
            177
          ],
          "latitude": -37.81887963,
          "longitude": 144.95449198,
          "percentage_change": -50.812,
          "sensor_description": "Spencer St-Collins St (North)"
        },
        {
          "absolute_change": 4.229,
          "colour": [
            12,
            6,
            6
          ],
          "latitude": -37.82401776,
          "longitude": 144.95604426,
          "percentage_change": -4.229,
          "sensor_description": "Melbourne Convention Exhibition Centre"
        },
        {
          "absolute_change": 23.268,
          "colour": [
            108,
            55,
            54
          ],
          "latitude": -37.80606888,
          "longitude": 144.95644692,
          "percentage_change": -23.268,
          "sensor_description": "QV Market-Peel St"
        },
        {
          "absolute_change": 41.508,
          "colour": [
            198,
            98,
            125
          ],
          "latitude": -37.82129925,
          "longitude": 144.96879309,
          "percentage_change": -41.508,
          "sensor_description": "The Arts Centre"
        },
        {
          "absolute_change": 48.009,
          "colour": [
            214,
            128,
            162
          ],
          "latitude": -37.8199817,
          "longitude": 144.96872865,
          "percentage_change": -48.009,
          "sensor_description": "St Kilda Rd-Alexandra Gardens"
        },
        {
          "absolute_change": 32.346,
          "colour": [
            158,
            71,
            78
          ],
          "latitude": -37.8112185,
          "longitude": 144.96656806,
          "percentage_change": -32.346,
          "sensor_description": "Lonsdale St (South)"
        },
        {
          "absolute_change": 24.295,
          "colour": [
            113,
            57,
            57
          ],
          "latitude": -37.80169681,
          "longitude": 144.96658911,
          "percentage_change": -24.295,
          "sensor_description": "Lygon St (West)"
        },
        {
          "absolute_change": 5.032,
          "colour": [
            16,
            9,
            8
          ],
          "latitude": -37.82018685,
          "longitude": 144.96508508,
          "percentage_change": -5.032,
          "sensor_description": "Southbank"
        },
        {
          "absolute_change": 39.461,
          "colour": [
            191,
            89,
            112
          ],
          "latitude": -37.81652527,
          "longitude": 144.96121062,
          "percentage_change": -39.461,
          "sensor_description": "Queen St (West)"
        },
        {
          "absolute_change": 28.404,
          "colour": [
            136,
            65,
            67
          ],
          "latitude": -37.80107122,
          "longitude": 144.96704554,
          "percentage_change": -28.404,
          "sensor_description": "Lygon St (East)"
        },
        {
          "absolute_change": 53.428,
          "colour": [
            227,
            155,
            192
          ],
          "latitude": -37.81379749,
          "longitude": 144.96995745,
          "percentage_change": -53.428,
          "sensor_description": "Alfred Place"
        },
        {
          "absolute_change": 41.476,
          "colour": [
            198,
            98,
            125
          ],
          "latitude": -37.80999341,
          "longitude": 144.97227587,
          "percentage_change": -41.476,
          "sensor_description": "Lonsdale St-Spring St (West)"
        },
        {
          "absolute_change": 27.017,
          "colour": [
            128,
            62,
            63
          ],
          "latitude": -37.81668634,
          "longitude": 144.96689733,
          "percentage_change": -27.017,
          "sensor_description": "Flinders La-Swanston St (West)"
        },
        {
          "absolute_change": 42.59,
          "colour": [
            200,
            103,
            131
          ],
          "latitude": -37.80008566,
          "longitude": 144.96386412,
          "percentage_change": -42.59,
          "sensor_description": "Grattan St-Swanston St (West)"
        },
        {
          "absolute_change": 42.75,
          "colour": [
            201,
            104,
            132
          ],
          "latitude": -37.79844526,
          "longitude": 144.96411782,
          "percentage_change": -42.75,
          "sensor_description": "Monash Rd-Swanston St (West)"
        },
        {
          "absolute_change": 46.697,
          "colour": [
            211,
            122,
            155
          ],
          "latitude": -37.79698741,
          "longitude": 144.96441306,
          "percentage_change": -46.697,
          "sensor_description": "Tin Alley-Swanston St (West)"
        },
        {
          "absolute_change": 35.388,
          "colour": [
            175,
            77,
            89
          ],
          "latitude": -37.81414075,
          "longitude": 144.96609379,
          "percentage_change": -35.388,
          "sensor_description": "Little Collins St-Swanston St (East)"
        },
        {
          "absolute_change": 32.59,
          "colour": [
            160,
            72,
            79
          ],
          "latitude": -37.80240719,
          "longitude": 144.9615673,
          "percentage_change": -32.59,
          "sensor_description": "Pelham St (South)"
        },
        {
          "absolute_change": 24.582,
          "colour": [
            114,
            57,
            57
          ],
          "latitude": -37.81258467,
          "longitude": 144.9625775,
          "percentage_change": -24.582,
          "sensor_description": "Melbourne Central-Elizabeth St (East)"
        },
        {
          "absolute_change": 34.535,
          "colour": [
            171,
            75,
            86
          ],
          "latitude": -37.80631581,
          "longitude": 144.95866697,
          "percentage_change": -34.535,
          "sensor_description": "QVM-Queen St (East)"
        },
        {
          "absolute_change": 27.976,
          "colour": [
            133,
            64,
            66
          ],
          "latitude": -37.80730068,
          "longitude": 144.95956055,
          "percentage_change": -27.976,
          "sensor_description": "QVM-Therry St (South)"
        },
        {
          "absolute_change": 24.212,
          "colour": [
            113,
            57,
            57
          ],
          "latitude": -37.79808192,
          "longitude": 144.96721013,
          "percentage_change": -24.212,
          "sensor_description": "Faraday St-Lygon St (West)"
        },
        {
          "absolute_change": 19.206,
          "colour": [
            87,
            46,
            45
          ],
          "latitude": -37.80841815,
          "longitude": 144.95906316,
          "percentage_change": -19.206,
          "sensor_description": "QVM-Franklin St (North)"
        },
        {
          "absolute_change": 46.469,
          "colour": [
            211,
            121,
            154
          ],
          "latitude": -37.81252157,
          "longitude": 144.9619401,
          "percentage_change": -46.469,
          "sensor_description": "Elizabeth St-Lonsdale St (South)"
        },
        {
          "absolute_change": 37.811,
          "colour": [
            186,
            83,
            103
          ],
          "latitude": -37.81564191,
          "longitude": 144.965499,
          "percentage_change": -37.811,
          "sensor_description": "Collins Street (North)"
        },
        {
          "absolute_change": 14.149,
          "colour": [
            61,
            34,
            33
          ],
          "latitude": -37.804024,
          "longitude": 144.96308399,
          "percentage_change": -14.149,
          "sensor_description": "Lincoln-Swanston (West)"
        },
        {
          "absolute_change": 35.349,
          "colour": [
            175,
            77,
            89
          ],
          "latitude": -37.80988941,
          "longitude": 144.96134331,
          "percentage_change": -35.349,
          "sensor_description": "380 Elizabeth Street"
        },
        {
          "absolute_change": 24.715,
          "colour": [
            116,
            58,
            58
          ],
          "latitude": -37.81234775,
          "longitude": 144.96153311,
          "percentage_change": -24.715,
          "sensor_description": "Lonsdale St - Elizabeth St (North)"
        },
        {
          "absolute_change": 42.183,
          "colour": [
            199,
            101,
            128
          ],
          "latitude": -37.81686075,
          "longitude": 144.95358075,
          "percentage_change": -42.183,
          "sensor_description": "Bourke St - Spencer St (North)"
        },
        {
          "absolute_change": 135.413,
          "colour": [
            151,
            252,
            26
          ],
          "latitude": -37.80825648,
          "longitude": 144.96304859,
          "percentage_change": 135.413,
          "sensor_description": "Building 80 RMIT"
        },
        {
          "absolute_change": 41.358,
          "colour": [
            197,
            97,
            124
          ],
          "latitude": -37.80767455,
          "longitude": 144.96309114,
          "percentage_change": -41.358,
          "sensor_description": "RMIT Building 14"
        },
        {
          "absolute_change": 4.399,
          "colour": [
            2,
            2,
            1
          ],
          "latitude": -37.80996494,
          "longitude": 144.96216521,
          "percentage_change": 4.399,
          "sensor_description": "La Trobe St (North)"
        }
      ],
      "elevationScale": 5,
      "extruded": true,
      "getElevation": "@@=absolute_change",
      "getFillColor": "@@=colour",
      "getPosition": "@@=[longitude, latitude]",
      "id": "a6d4bc23-463f-4df0-80e4-6da9c25122e2",
      "pickable": true,
      "radius": 20
    }
  ],
  "mapProvider": "carto",
  "mapStyle": "https://basemaps.cartocdn.com/gl/dark-matter-gl-style/style.json",
  "views": [
    {
      "@@type": "MapView",
      "controller": {
        "doubleClickZoom": false,
        "dragPan": false,
        "dragRotate": true,
        "keyboard": false,
        "scrollZoom": false,
        "touchRotate": true,
        "touchZoom": false
      }
    }
  ]
};
    const tooltip = {'text': '{sensor_description} \nChange: {percentage_change}%'};
    const customLibraries = null;
    const configuration = null;

    const deckInstance = createDeck({
                  container,
      jsonInput,
      tooltip,
      customLibraries,
      configuration
    });

  </script>
</html>